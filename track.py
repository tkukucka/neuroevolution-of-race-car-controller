import random

import matplotlib.pyplot as plt

# Class defining the race track
class Track:
    def __init__(self, mode=None):
        x = [-51.6, -46.6, -16.0, 24.4, 56.8, 59.6, 45.8, 46.2, 13.8, -2.2, -34.8, -75.2, -69, -22.4, 26.4, 72.4, 76.6, 66.4, 61.8, 5.2, -11.4, -46.8]
        y = [-0.4, 22.4, 47.6, 50.8, 46.4, 23.0, -3.8, -33.4, -45.2, -19.8, -22.8, 0.0, 32.2, 70.6, 69.2, 59.2, 18.6, -7.6, -50.6, -58.4, -33.6, -35.0]
        if mode == 1:
            x = [-51.37255, -51.57255, -48.62745, -33.33333, -10.0, 15.29412, 31.96078, 30.19608, 38.62745, 37.05882, 12.54902, 2.35294, -10.0, -17.05882, -45.88235, -59.60784, -59.41176, -51.96078, -33.92157, -10.0, 14.11765, 31.76471, 40.58824, 36.47059, 46.07843, 42.15686, 6.47059, -3.92157, -14.5098, -49.01961]
            y = [-1.0, 14.4, 24.4, 31.4, 32.4, 33.0, 40.4, 12.4, -5.8, -28.8, -30.4, -6.6, -6.8, -30.8, -21.4, -1.2, 16.6, 31.6, 39.2, 39.8, 41.6, 49.0, 42.0, 13.2, -6.2, -34.0, -37.0, -15.2, -36.2, -27.6]
        elif mode == 2:
            x = [-59.8, -49.2, -60.4, -43.0, 19.6, 63.8, 44.0, 51.2, 10.4, -24.4, -24.8, -58.0, -73.6, -61.8, -74.4, -43.4, 20.8, 64.6, 74.6, 52.4, 61.2, -33.4, -35.8, -67.0]
            y = [-1.2, 13.2, 32.6, 42.4, 33.0, 54.4, 11.2, -28.8, -30.2, -31.6, -15.2, -14.8, 0.0, 14.0, 34.2, 50.6, 40.6, 66.8, 54.6, 9.4, -34.4, -39.0, -23.8, -22.0]

        n = int(len(x)/2)
        self.x_in = x[:n]
        self.x_out = x[n:]
        self.y_in = y[:n]
        self.y_out = y[n:]

        self.x_in.append(self.x_in[0])
        self.x_out.append(self.x_out[0])
        self.y_in.append(self.y_in[0])
        self.y_out.append(self.y_out[0])

        if mode == 3:
            self.x_in = [-59.36508, -47.77778, -60.0, -40.79365, 29.68254, 79.04762, 56.66667, 65.55556, -19.84127, -19.84127, -27.61905, -57.61905, -59.36508]
            self.y_in = [0.0, 17.75862, 41.03448, 53.27586, 41.55172, 67.75862, 15.51724, -33.27586, -36.37931, -23.44828, -17.06897, -16.55172, 0]
            self.x_out = [-75.07937, -62.22222, -72.85714, -70.15873, -43.01587, 29.68254, 73.80952, 83.80952, 87.14286, 89.36508, 66.98413, 75.39683, 70.95238, -24.60317, -31.11111, -31.74603, -57.93651, -69.20635, -75.07937]
            self.y_out = [1.37931, 18.62069, 38.10345, 49.31034, 63.62069, 51.37931, 79.13793, 78.44828, 74.65517, 64.31034, 13.96552, -34.31034, -41.72414, -46.03448, -39.31034, -27.75862, -27.06897, -18.10345, 1.37931]

    def plot(self):
        plt.plot(self.x_in, self.y_in, c="k")
        plt.plot(self.x_out, self.y_out, c="k")

class RandomTrack:
    def __init__(self, seed=None):
        width = 20
        height = 20
        length = 20
        start_pos = -60, 0

        rf = 3
        if seed is not None:
            random.seed(a=seed)

        self.x_in, self.x_out = [start_pos[0], start_pos[0]-width/2], [start_pos[0], start_pos[0]+width/2]
        self.y_in, self.y_out = [-height, 0], [-height, 0]

        for i in range(length):
            self.y_in.append(self.y_in[i+1] + height)
            self.y_out.append(self.y_in[i+1] + height)

            x_c = (self.x_in[i+1] + self.x_out[i+1])/2 + random.uniform(-rf, rf)*10

            self.x_in.append(x_c + -width/2)
            self.x_out.append(x_c + +width/2)

    def plot(self):
        plt.plot(self.x_in, self.y_in, c="k")
        plt.plot(self.x_out, self.y_out, c="k")





if __name__ == "__main__":
    t = Track(mode=2)
    t.plot()
    plt.axis("equal")
    plt.show()



